{
  "_metadata": {
    "description": "Documents what the WebView2 WPRP diagnostic profiles capture. Used to avoid false-positive 'missing event' flags when events were deliberately not captured.",
    "source": "https://github.com/MicrosoftEdge/WebView2Feedback/blob/main/diagnostics/etw.md",
    "profiles": ["WebView2_CPU.wprp", "WebView2.wprp"],
    "lastUpdated": "2026-02-25"
  },
  "providers": {
    "Edge_WebView": {
      "guid": "E16EC3D2-BB0F-4E8F-BDB8-DE0BEA82DC3D",
      "keywords": "0x3F0000054404",
      "level": 5,
      "description": "WebView2-specific ETW events (WebView2_* prefix). All WebView2 client-layer events are emitted through this provider.",
      "capturedEventPrefixes": ["WebView2_"],
      "notes": "Event dispatch mechanism: Navigation lifecycle events (NavigationStarting, NavigationCompleted, etc.) are dispatched via generic WebView2_Event, not as dedicated trace events."
    },
    "Edge_Stable": {
      "guid": "3A5F2396-5C8F-4F1F-9B67-6CCA6C990E61",
      "keywords": "0x10000000202F",
      "level": 5,
      "description": "Edge browser ETW provider. Includes Chrome TRACE_EVENT macros piped to ETW when appropriate keyword bits are enabled.",
      "capturedEventPrefixes": ["NavigationRequest::", "NavigationThrottle::", "RenderFrame"],
      "notes": "Chrome tracing categories enabled depend on the keyword bitmask. Navigation-related TRACE_EVENT events are captured."
    },
    "Edge_Canary": {
      "guid": "C56B8664-45C5-4E65-B3C7-A8D6BD3F2E67",
      "keywords": "0x3F0000054404",
      "level": 5,
      "description": "Canary channel Edge provider — same keywords as Edge_WebView"
    },
    "Edge_Dev": {
      "guid": "D30B5C9F-B58F-4DC9-AFAF-134405D72107",
      "keywords": "0x3F0000054404",
      "level": 5,
      "description": "Dev channel Edge provider — same keywords as Edge_WebView"
    },
    "Edge_Beta": {
      "guid": "BD089BAA-4E52-4794-A887-9E96868570D2",
      "keywords": "0x3F0000054404",
      "level": 5,
      "description": "Beta channel Edge provider — same keywords as Edge_WebView"
    },
    "V8js": {
      "guid": "57277741-3638-4A4B-BDBA-0AC6E45DA56C",
      "level": 5,
      "stack": true,
      "description": "V8 JavaScript engine events"
    },
    "Crashpad": {
      "guid": "94061CA0-FB42-5B87-F7F1-254B0A86F9FD",
      "description": "Edge crash reporting events"
    },
    "WindowsErrorReporting": {
      "guid": "CC79CF77-70D9-4082-9B52-23F3A3E92FE4",
      "description": "Windows Error Reporting events"
    },
    "FaultReporting": {
      "guid": "1377561D-9312-452C-AD13-C4A1C9C906E0",
      "description": "Windows Fault Reporting events"
    },
    "KernelProcess": {
      "guid": "22FB2CD6-0E7B-422B-A0C7-2FAD1FD0E716",
      "keywords": "0x190",
      "stack": true,
      "description": "Process, thread, and image load events"
    }
  },
  "systemProvider": {
    "keywords": ["ProcessThread", "Loader", "Power", "CSwitch", "ReadyThread", "SampledProfile", "DPC", "Interrupt", "IdleStates", "DiskIO", "FileIO", "HardFaults", "MemoryInfo", "MemoryInfoWS"],
    "stacks": {
      "WebView2_CPU.wprp": ["CSwitch", "ReadyThread", "SampledProfile"],
      "WebView2.wprp": ["CSwitch", "ReadyThread"]
    },
    "notes": "SampledProfile (CPU sampling) is only in WebView2_CPU.wprp. WebView2.wprp excludes it for smaller trace files."
  },
  "capturedEventCategories": {
    "webview2_client": {
      "description": "All WebView2_* events from the client layer",
      "provider": "Edge_WebView",
      "examples": ["WebView2_APICalled", "WebView2_Event", "WebView2_Creation_Client", "WebView2_CreationTime", "WebView2_CreationFailure", "WebView2_DroppedEvent", "WebView2_NoEventDispatcher", "WebView2_NavIdNotFound", "WebView2_DifferentNavigationId", "WebView2_DocStateSuppressed", "WebView2_ObjectCalled", "WebView2_ObjectCallResponse", "WebView2_InvokeFinished", "WebView2_FactoryCreate", "WebView2_FactoryAcquired", "WebView2_ProcessFailure", "WebView2_SetPendingNavigation", "WebView2_NewNavigationContext"]
    },
    "navigation_chromium": {
      "description": "Chromium NavigationRequest lifecycle events piped through Edge ETW provider",
      "provider": "Edge_Stable",
      "examples": ["NavigationRequest::Create", "NavigationRequest::BeginNavigation", "NavigationRequest::StartNavigation", "NavigationRequest::CommitNavigation", "NavigationRequest::DidCommitNavigation", "NavigationRequest::OnRequestFailedInternal"]
    },
    "process_lifecycle": {
      "description": "Process start/stop, DLL loads, thread operations",
      "provider": "KernelProcess + SystemProvider",
      "examples": ["ProcessStart", "ProcessStop", "ImageLoad", "ThreadStart"]
    },
    "crash_reporting": {
      "description": "Crash and error reporting events",
      "provider": "Crashpad + WER + FaultReporting",
      "examples": ["CrashpadHandlerStart", "WerReportCreate"]
    },
    "cpu_sampling": {
      "description": "CPU profiling data (only with WebView2_CPU.wprp)",
      "provider": "SystemProvider",
      "wprpProfile": "WebView2_CPU.wprp only",
      "examples": ["SampledProfile"]
    }
  },
  "notCapturedCategories": {
    "description": "Events and categories NOT captured by the WPRP. Do NOT flag these as missing during analysis.",
    "categories": [
      {
        "name": "Network socket-level events",
        "provider": "Microsoft-Windows-TCPIP / Microsoft-Windows-WinHTTP",
        "reason": "Not included in WPRP providers"
      },
      {
        "name": "Detailed GPU/DirectX operations",
        "provider": "Microsoft-Windows-DxgKrnl / Microsoft-Windows-DXGI",
        "reason": "Not included in WPRP providers"
      },
      {
        "name": "Print/Download/SaveAs dedicated trace events",
        "provider": "N/A",
        "reason": "No dedicated WebView2_ trace events exist for these operations. They are tracked only via WebView2_APICalled + generic WebView2_ObjectCalled/InvokeFinished."
      },
      {
        "name": "Detailed memory allocation events",
        "provider": "Microsoft-Windows-Kernel-Memory",
        "reason": "Not included in WPRP providers"
      },
      {
        "name": "COM/RPC infrastructure events",
        "provider": "Microsoft-Windows-RPC / OLE",
        "reason": "Not included in WPRP providers"
      }
    ]
  },
  "eventResolutionRules": {
    "description": "Rules for how api_sequences.json happy path events map to actual ETW events in traces",
    "rules": [
      {
        "pattern": "WebView2_NavigationStarting",
        "actualEtwEvent": "WebView2_Event",
        "matchField": "handler contains ICoreWebView2NavigationStartingEventHandler",
        "note": "Navigation lifecycle events fire as generic WebView2_Event with handler interface param"
      },
      {
        "pattern": "WebView2_NavigationCompleted",
        "actualEtwEvent": "WebView2_Event",
        "matchField": "handler contains ICoreWebView2NavigationCompletedEventHandler",
        "note": "Same generic dispatch mechanism"
      },
      {
        "pattern": "WebView2_ContentLoading",
        "actualEtwEvent": "WebView2_Event",
        "matchField": "handler contains ICoreWebView2ContentLoadingEventHandler",
        "note": "Same generic dispatch mechanism"
      },
      {
        "pattern": "WebView2_SourceChanged",
        "actualEtwEvent": "WebView2_Event",
        "matchField": "handler contains ICoreWebView2SourceChangedEventHandler",
        "note": "Same generic dispatch mechanism"
      },
      {
        "pattern": "WebView2_DOMContentLoaded",
        "actualEtwEvent": "WebView2_Event",
        "matchField": "handler contains ICoreWebView2DOMContentLoadedEventHandler",
        "note": "Same generic dispatch mechanism"
      },
      {
        "pattern": "WebView2_HistoryChanged",
        "actualEtwEvent": "WebView2_Event",
        "matchField": "handler contains ICoreWebView2HistoryChangedEventHandler",
        "note": "Same generic dispatch mechanism"
      },
      {
        "pattern": "WebView2_APICalled",
        "actualEtwEvent": "WebView2_APICalled",
        "matchField": "Field1 = API ID number",
        "note": "Direct ETW event with API ID in Field1"
      },
      {
        "pattern": "NavigationRequest::*",
        "actualEtwEvent": "Same name (Chrome TRACE_EVENT macro)",
        "matchField": "Event name in trace output",
        "note": "Chromium TRACE_EVENT events piped through Edge ETW provider"
      }
    ]
  }
}